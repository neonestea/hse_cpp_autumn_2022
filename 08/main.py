#! /usr/bin/env python3

import time

import json

import ujson

import cjson

def main():
    json_strings = []
    json_str1 = '{"universe": 1138934, "somehow": "tropical", "mind": "smell", "student": 1781, "sort": -1468, "pair": -9229486, "egg": 1496, "build": "job", "such": "ought", "inch": -1437691343, "heart": -1620873649, "talk": 862131858, "either": "care", "suddenly": "strike", "bring": 1, "stomach": "fewer", "married": -1498756599, "huge": 1392149299, "select": "snow", "furniture": 21035, "beneath": -422622231, "grabbed": 135507527, "bottom": "split", "cabin": "oxygen", "fed": "lonely", "adult": "whatever", "factor": "sing", "reach": "card", "sang": -1502, "standard": "come", "forget": "pound", "record": -933030482, "surface": 1331413606, "discussion": 723755, "mighty": "case", "cat": "science", "myself": "pick", "language": "valley", "thrown": "look", "grow": "giving", "table": 12078, "chemical": "freedom", "fighting": "lamp", "place": 20559, "herself": "topic", "feet": "scientist", "sharp": "began", "mathematics": "floor", "pictured": "prove", "my": "slightly", "state": "program", "however": -2063511685, "combination": "solution", "court": -1755060357, "replied": -1118946795, "famous": -90391, "cross": "soil", "rapidly": 1002269109, "stop": "sick", "copy": "observe", "done": "fastened", "soldier": "sink", "needs": -135144561, "raise": "shelf", "kept": 1996768852, "avoid": 310183560, "upward": 409, "coming": 1821892, "escape": 1909015651, "locate": "poem", "everyone": "brown", "that": -851861059, "wash": 214159513, "nearby": "rather", "picture": 1552616827, "basic": "pain", "prize": "prepare", "meant": "subject", "opposite": -2090508956, "cookies": "differ", "voyage": "horn", "sister": 1667865884, "shelf": -3677204, "read": -1191343793, "name": "nothing", "settle": "tired", "check": "dawn", "range": 711083, "clean": "house", "brass": "fur", "generally": "square", "railroad": 20891, "atom": "movie", "disappear": 9976, "represent": 214352, "courage": "other", "effort": -407935516, "coat": "principle", "watch": "shadow", "for": 118102207, "consider": "cover", "copper": 15734, "should": "sign", "poor": 1270450008, "recognize": 1536596313, "score": "general", "single": "purple", "tongue": "baby", "told": "discovery", "clothing": "got", "still": -1017583396, "rise": "zero", "smile": 420998791, "sheep": 1717575285, "near": 136352528, "strip": "gone", "frame": "model", "sent": 1912925, "brother": "write", "garage": "buried", "oxygen": "my", "support": -2007799289, "country": "start", "planned": -1601819133, "old": "joy", "alone": 1994031694, "during": -37189636, "find": -14701285, "south": 816393886, "salmon": 7130527, "better": "distance", "victory": "fell", "or": 1145518719, "die": -1120850656, "means": -116365334, "variety": "street", "judge": -635403644, "since": -1989798036, "mouse": "done", "toy": "drove", "condition": 2039421421, "burst": "fallen", "importance": -1501919980, "energy": 2011108377, "through": "skill", "nor": "national", "climb": 10559, "anyway": "constantly", "evening": 1067290020, "had": "correctly", "tired": "new", "heavy": 377372335, "point": -2026622207, "important": "anywhere", "understanding": "dot", "bee": "student2", "hurry": 17971325, "silly": -1626180062, "careful": 828383, "anyone": 297876222, "captured": -1277512098, "north": "get", "learn": "also", "pile": 40798862, "breathe": -1567874218, "pencil": "research", "eaten": "class", "appropriate": 7595897, "turn": "mysterious", "simple": 1840716665, "decide": "potatoes", "melted": 139062207, "include": "previous", "almost": 65543, "consist": 118383543, "somebody": 24019, "trail": 939692, "habit": "effort", "lead": "cow", "dust": 1337508398, "garden": "traffic", "join": -70555923, "essential": "gather", "company": "help", "burn": 7006922, "station": "camera", "label": 7864614, "music": "position", "earth": 1455522932, "thick": 1773155659, "reason": "cloth", "real": "those", "guide": "till", "property": 124782, "peace": 1937985, "tears": 9894686, "soon": -1774395781, "deeply": -1785932938, "prevent": "further", "dropped": "happen", "voice": "voice", "bad": 1565833, "wooden": 2576299, "tie": 1880964396, "game": 370442909, "gather": "dance", "tin": 1764045, "past": 5617838, "valuable": "widely", "badly": 1029449, "draw": -1459938446, "sometime": -907873376, "rope": "nearer", "market": -989496324, "steam": "will", "paragraph": -1739, "missing": "block", "meet": -622858537, "hill": 586388, "forty": 1111892, "making": 853572301, "boy": 18, "driver": "kids", "movement": "built", "vegetable": 184821648, "silence": 1747, "into": "nest", "direct": "warn", "hospital": "trip", "fear": 1257, "tribe": "nine", "horse": -652019553, "combine": "steel", "arrive": "conversation", "go": 11937, "bat": "alone", "attempt": -147, "product": "luck", "page": "stay", "friendly": "pine", "rest": -9332634, "college": 218, "able": 180673, "share": "setting", "thousand": 99119, "whenever": "golden", "breathing": 1214219320, "particles": "several", "production": "passage", "run": "smooth", "sail": "instead", "series": "social", "smell": "salmon", "body": -197707585, "yesterday": -613058369, "danger": 2075336, "positive": 1955068958, "deal": "forest", "declared": -874844193, "carried": 1200600673, "among": "break", "bear": -1327400350, "flag": "experience", "poetry": "pitch", "soft": "wide", "enemy": "stairs", "teeth": "sent", "income": 12904, "terrible": "taken", "met": 3316, "cool": "ride", "solar": -63763529, "west": 2051270937, "saw": -512744553, "therefore": 616772517, "longer": 1841954647, "customs": "like", "hot": -1279268318, "second": "blanket", "please": "moon", "alike": "community", "donkey": 39526272, "one": 31327057, "exact": "contrast", "stock": "introduced", "smoke": "trade", "ahead": "case", "damage": 75593, "took": "theory", "respect": 45742226, "trace": 1430372444, "final": "take", "harbor": "source", "must": -1398775987, "owner": -906589955, "then": "child", "eager": "hunter", "type": 43806076, "many": "needs", "idea": -143874919, "distant": "strength", "everywhere": -1002394972, "seems": 1118279740, "slabs": "search", "phrase": "fought", "swam": "present", "slight": "allow", "closer": "perhaps", "port": -161570355, "maybe": "daughter", "trunk": 140228, "certainly": "step", "four": 457931, "subject": 87823391, "nails": 1202758745, "mysterious": "silver", "scared": "sudden", "night": 5216956, "well": "add", "bicycle": "numeral", "arrangement": 1702472730, "mixture": 938396308, "chief": "blew", "wheel": 7022572, "best": "dark", "sea": "especially", "last": -1708978389, "office": "nobody", "native": "effort", "white": "tales", "movie": 8517585, "east": "knife", "love": "strip", "gone": "easier", "rays": "bell", "original": 90488, "vowel": -946526560, "been": 4667907, "door": 7084956, "frozen": "power", "slowly": "twenty", "sit": "start", "rubbed": 336836, "floating": "symbol", "master": "its", "truck": "voyage", "operation": "page", "fought": "spin", "belong": 9073787, "those": "rocky", "sun": 1035887843, "food": 1314550331, "unit": 578103, "waste": -1972519321, "horn": "nose", "cattle": "block", "plant": 1819179074, "power": "more", "wrapped": -1006116637, "question": -152955183, "characteristic": "may", "fix": "wild", "be": 8265338, "milk": "mind", "connected": "audience", "frequently": "nobody", "touch": 145651, "across": "upward", "attached": "discussion", "spin": 618658, "independent": 477185987, "yard": "central", "shinning": "still", "public": "game", "notice": "parts", "rice": 2486376, "have": 1147007, "dangerous": "stairs", "health": 120566, "edge": 632664524, "main": "angry", "might": 887985079, "seen": 9474, "shout": 132988, "character": "land", "grass": 133036, "broke": "further", "doll": 36586, "clear": "properly", "taste": "shine", "lips": -1568128136, "today": "health", "dirt": 477225622, "organized": 2104025610, "refused": "pink", "necessary": 64658, "selection": "deal", "jar": "compare", "pan": "long", "book": "soon", "stand": -278512989, "local": 1391033682, "excellent": -2006959575, "involved": "higher", "bar": -1889176005, "farmer": "straight", "tonight": "typical", "future": -1088246184, "with": "mighty", "zero": "six", "particular": "captain", "film": "own", "easily": 52095194, "engineer": "plus", "were": 605258896, "plain": -215150701, "forth": 2310247, "treated": "we", "top": "straw", "becoming": "troops", "flies": "greatly", "machine": "put", "blind": "circle", "animal": -1219864715, "industrial": 1526314849, "shallow": "hospital", "measure": 727259, "tried": "sun", "detail": "definition", "vessels": 45292, "unusual": -1935043, "spirit": "great", "temperature": "total", "needed": "piano", "airplane": 2383, "magnet": -20538, "parts": -2061, "wild": -1907, "eat": "handle"}'
    json_str2 = '{"difference": "steady", "red": "themselves", "cream": "colony", "chair": "alike", "fifty": "yet", "everything": "feature", "oil": "report", "sold": "hidden", "past": "particularly", "signal": "lonely", "exist": "tongue", "hot": "birthday", "swam": "dish", "leader": "jungle", "direction": "muscle", "prove": "leaf", "boat": "sometime", "any": "spider", "flight": "wonder", "wire": "judge", "we": "fellow", "term": "led", "shown": "fly", "reader": "local", "lamp": "low", "range": "fed", "wise": "vowel", "sang": "worker", "indicate": "particles", "ship": "history", "organized": "kids", "test": "atmosphere", "driver": "habit", "together": "chemical", "discussion": "growth", "easier": "right", "question": "basis", "gather": "useful", "greatest": "shoot", "shut": "still", "badly": "bicycle", "select": "example", "beauty": "halfway", "know": "western", "planning": "gas", "nor": "cast", "easy": "measure", "floating": "scene", "tree": "structure", "shallow": "rush", "after": "enemy", "something": "studen4t", "giving": "welcome", "sad": "hardly", "task": "ahead", "upward": "cook", "grandfather": "beautiful", "came": "seeing", "yesterday": "replace", "once": "swung", "mission": "count", "bottom": "pig", "unhappy": "exciting", "hay": "pound", "popular": "knife", "country": "speed", "smallest": "closer", "claws": "further", "negative": "funny", "live": "lose", "swung": "lamp", "pocket": "team", "introduced": "met", "likely": "spring", "night": "roof", "drove": "worried", "ice": "fresh", "troops": "valuable", "building": "angry", "due": "month", "honor": "steady", "stranger": "old", "save": "sister", "zoo": "course", "including": "courage", "verb": "pond", "strike": "simply", "younger": "build", "check": "recognize", "camp": "almost", "original": "follow", "rough": "previous", "shorter": "soil", "during": "large", "upon": "seldom", "thing": "education", "kill": "popular", "modern": "frog", "like": "tongue", "horse": "shoe", "research": "average", "cattle": "least", "wrote": "wish", "orange": "length", "plenty": "plain", "season": "new", "horn": "limited", "supply": "pencil", "pie": "contrast", "bark": "prize", "choose": "wherever", "yourself": "yes", "review": "topic", "garden": "voyage", "possible": "blue", "brother": "mad", "answer": "able", "extra": "smell", "drink": "easily", "gate": "forgot", "hill": "because", "children": "service", "scientific": "sometime", "even": "art", "each": "four", "apple": "slipped", "middle": "measure", "graph": "dance", "throw": "complete", "slip": "cheese", "dawn": "crew", "steel": "away", "parts": "sweet", "actual": "happy", "happily": "pack", "solution": "needs", "deep": "plain", "stiff": "involved", "bound": "open", "plane": "flame", "mountain": "age", "rice": "shot", "equipment": "corn", "create": "seldom", "grew": "wagon", "plastic": "figure", "war": "opportunity", "government": "tent", "cloth": "write", "branch": "uncle", "roof": "track", "line": "bill", "hide": "ill", "mouse": "market", "history": "doll", "tongue": "camera", "away": "beside", "complex": "news", "decide": "noon", "born": "too", "rather": "desk", "whether": "flame", "radio": "cake", "himself": "dozen", "whenever": "division", "zero": "bee", "write": "chair", "chose": "total", "old": "cow", "most": "type", "milk": "broad", "dot": "agree", "noun": "enemy", "happened": "fallen", "color": "slight", "degree": "social", "asleep": "gun", "slipped": "bent", "make": "terrible", "near": "clothing", "number": "voice", "drop": "theory", "bag": "ground", "possibly": "vowel", "shadow": "blind", "calm": "remarkable", "victory": "bear", "care": "stepped", "glad": "nervous", "according": "body", "surprise": "running", "week": "our", "work": "come", "clear": "bean", "game": "bound", "rest": "bite", "depend": "full", "smooth": "cat", "beginning": "key", "took": "we", "lunch": "bottom", "curve": "chain", "soil": "club", "ever": "region", "earn": "throw", "cannot": "gone", "busy": "hunt", "present": "label", "copper": "respect", "butter": "sea", "bring": "closer", "spring": "spring", "shine": "wall", "town": "exclaimed", "shaking": "plural", "power": "valley", "beneath": "notice", "lay": "constantly", "bus": "instrument", "thirty": "observe", "fat": "broke", "tube": "ship", "fly": "useful", "stopped": "scientist", "myself": "develop", "screen": "electric", "roar": "danger", "trap": "step", "rocket": "travel", "sat": "region", "loose": "variety", "black": "mark", "age": "better", "speak": "wealth", "noise": "electricity", "musical": "dog", "again": "mysterious", "toy": "certainly", "buffalo": "vote", "meet": "program", "mill": "exactly", "sail": "related", "brave": "wing", "heading": "held", "fireplace": "occasionally", "stomach": "steep", "label": "saved", "law": "pale", "post": "avoid", "entirely": "throw", "couple": "slept", "wheel": "gather", "area": "married", "hair": "successful", "fought": "attention", "composed": "carefully", "congress": "fewer", "rabbit": "steam", "air": "wide", "never": "row", "or": "cattle", "today": "himself", "duty": "pride", "kitchen": "impossible", "hunt": "great", "prize": "body", "society": "suddenly", "fox": "white", "say": "with", "went": "bottom", "simple": "equipment", "dear": "making", "tone": "already", "peace": "higher", "stepped": "therefore", "search": "plane", "wall": "lose", "done": "forgot", "class": "act", "wooden": "sky", "pair": "concerned", "curious": "original", "told": "needle", "string": "place", "lucky": "broad", "bee": "dish", "fewer": "driven", "amount": "house", "darkness": "courage", "what": "high", "stems": "coffee", "express": "voyage", "liquid": "program", "may": "distant", "twelve": "worried", "green": "television", "wide": "breakfast", "river": "jar", "whose": "angry", "indeed": "table", "dirt": "firm", "importance": "kill", "vertical": "somebody", "rocky": "graph", "process": "whether", "chamber": "kitchen", "rhythm": "ran", "explain": "before", "seen": "white", "earth": "buy", "driven": "card", "division": "earn", "crack": "native", "charge": "easier", "word": "pine", "explanation": "face", "famous": "increase", "evidence": "shoot", "sound": "reason", "salt": "firm", "port": "review", "pole": "beside", "tea": "involved", "frame": "location", "control": "apple", "begun": "whole", "numeral": "airplane", "free": "cannot", "stuck": "burn", "putting": "care", "length": "somehow", "wish": "season", "within": "sweet", "itself": "repeat", "affect": "temperature", "courage": "shorter", "from": "piece", "knife": "longer", "captured": "quarter", "slowly": "noted", "sense": "mud", "driving": "syllable", "mine": "darkness", "light": "smaller", "tank": "torn", "operation": "ago", "wet": "plates", "record": "suggest", "shoe": "alive", "west": "ancient", "meal": "frog", "felt": "hundred", "love": "wrote", "truth": "pitch", "fighting": "did", "team": "include", "shot": "duck", "pleasant": "view", "cutting": "angry", "tomorrow": "surrounded", "laid": "satisfied", "coffee": "came", "wash": "ancient", "lower": "explain", "hope": "crack", "unknown": "men", "weigh": "win", "atomic": "crew", "wave": "help", "neighborhood": "four", "bread": "eager", "money": "suddenly", "tight": "lost", "printed": "original", "fun": "grandmother", "rapidly": "dried", "court": "paint", "managed": "weight", "metal": "giving", "table": "ability", "individual": "nearer", "refused": "square", "steam": "piece", "oxygen": "shut", "flow": "taken", "football": "exactly", "inch": "full", "average": "until", "dream": "common", "pony": "customs", "met": "refused", "fairly": "share", "my": "drive", "perfect": "middle", "becoming": "suppose", "aware": "nor", "longer": "elephant", "finish": "pie", "instant": "gently", "other": "announced", "buy": "trouble", "layers": "soil", "half": "dot", "not": "swim", "stay": "live", "perfectly": "nails", "positive": "bite", "truck": "dig", "completely": "who", "loss": "could", "teacher": "hidden", "raise": "wrong", "underline": "refer", "dust": "shoot", "repeat": "disease", "nodded": "chart", "arrangement": "object", "bite": "plus", "command": "bare", "family": "college", "belong": "care", "snow": "know", "eye": "death", "rod": "began", "studying": "wealth", "thick": "army", "worth": "nodded", "burn": "have", "he": "space", "soft": "congress", "camera": "sent", "spin": "slave", "subject": "principal", "talk": "bear", "sink": "applied", "promised": "sort", "slightly": "band", "result": "studied", "cook": "world", "swing": "person", "put": "outer", "jungle": "wave", "industry": "sides"}'
    for i in range(500):
        json_strings.append(json_str1)
        json_strings.append(json_str2)
    
    start_ts = time.time()
    for str in json_strings:
        res = json.dumps(json.loads(str))
    end_ts = time.time()
    print(f"Time of execution of JSON {end_ts - start_ts:.3} seconds")

    start_ts = time.time()
    for str in json_strings:
        res = ujson.dumps(ujson.loads(str))
    end_ts = time.time()
    print(f"Time of execution of UJSON {end_ts - start_ts:.3} seconds")
    
    
    start_ts = time.time()
    for str in json_strings:
        #print(str)
        cjson_d = cjson.loads(str)
        #print(json_d)
        json_d = json.loads(str)
        set1 = set(cjson_d.items())
        set2 = set(json_d.items())
        #print(set1 ^ set2)
        assert cjson_d == json_d
        res = cjson.dumps(cjson_d)
        #print(res)
        assert str == res
    end_ts = time.time()
    print(f"Time of execution of CJSON {end_ts - start_ts:.3} seconds")
        
    print("Checking simple string")
    json_str = '{"hello": 10, "world": "value"}'
    start_ts = time.time()
    json_doc = json.loads(json_str)
    end_ts = time.time()
    print(f"Time of execution of JSON {end_ts - start_ts:.3} seconds")
    start_ts = time.time()
    ujson_doc = ujson.loads(json_str)
    end_ts = time.time()
    print(f"Time of execution of UJSON {end_ts - start_ts:.3} seconds")
    start_ts = time.time()
    cjson_doc = cjson.loads(json_str)
    end_ts = time.time()
    print(f"Time of execution of CJSON {end_ts - start_ts:.3} seconds")
    start_ts = time.time()
    result = ujson.dumps(ujson_doc)
    end_ts = time.time()
    print(f"Time of execution of UJSON to string {end_ts - start_ts:.3} seconds")
    start_ts = time.time()
    result = json.dumps(json_doc)
    end_ts = time.time()
    print(f"Time of execution of JSON to string {end_ts - start_ts:.3} seconds")
    start_ts = time.time()
    result = cjson.dumps(cjson_doc)
    end_ts = time.time()
    print(f"Time of execution of CJSON to string {end_ts - start_ts:.3} seconds")
    
    
    print("My str result", type(result))
    assert json_doc == ujson_doc == cjson_doc
    assert json_str == cjson.dumps(cjson.loads(json_str))

if __name__ == "__main__":
    main()